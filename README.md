# mplayerRadio

#### 介绍
基于mplayer构建的网络电台收音程序,在128*64的小屏幕,树莓派Model A+上运行.
#### 运行原理

1. 先从这个仓库更新资源[https://gitee.com/wiselot/mplayer-radio-res.git](https://gitee.com/wiselot/mplayer-radio-res.git)(不知道gitee传文件容量多少,多的话放点下好的音乐)
2. 再以从模式启动mplayer,code:
```
execlp("mplayer","mplayer","-slave","-quiet","-idle","-input",fifo_buf,\
			radio_url_list[0],
			NULL);
```
3. 刷新两个面板,播放器页面和菜单选择页面,直到主动或被动退出或挂起

#### 安装
##### 要装的库
1. wiringPi : [https://github.com/WiringPi/WiringPi.git](https://github.com/WiringPi/WiringPi.git)
#### 编译&安装
1. bash setup.sh

#### 吐嘈
1. 为什么不用c++写,这样就不用去写一些不舒服的代码,比如strcpy,sprintf ~~因为一开始觉得没问题,后来懒得改~~
2. 为什么不用消息队列和信号量 ~~因为没怎么学过线程,呜呜~~
3. 为什么写那么多注释 **不是给别人看的,是防止以后回来继续写要花上更多时间去理解** 
4. 为什么gui那么丑 **因为128*64的oled不够发挥** ~~主要是懒~~ **要去看看大佬写的gui了,丝滑菜单切换**

#### 更新计划
**计划就是,先不更了,以后有心情再更,当然在6月后**
1. c++ 改写一遍
2. 消息队列和信号量
3. 美化gui
4. 完成歌曲信息展示
5. 更灵活的选择歌单,比如选本地文件夹中的list,音乐文件等

#### 2024 9 27 号更新
**哈哈我又回来了**
本来说暑假把这个小项目完善一下，结果就玩了3个月的长假，把我的树莓派也卖了(**悲**)。
昨天同学要了我的github，那不得展示一下我写的项目(~~虽然都很烂~~)。
这个项目是gitee上clone过来的，正如上面所说，网络收音机的歌单放在gitee的仓库里，当时只要周末有时间(一般就半天**悲**)就去更新一下歌单，这周就听这些电台和歌曲啦...
现在看到了这个项目，一定要完善，还是用树莓派吧，顺便设计个好看的外壳。
**完善目标**
1. 设计树莓派外壳，UPS供电，屏幕显示等硬件(又又又要花钱了**悲**)
2. 重写主逻辑，丰富功能
**说是完善其实还是推翻重写吧。。。**
